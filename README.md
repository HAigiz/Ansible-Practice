# Ansible-Practice

Репозиторий содержит решение практического задания по настройке Nginx (статические файлы, балансировка Round-Robin) с использованием Ansible и кастомного Python-модуля.

## Структура проекта
* `library/nginx_port.py` — кастомный Ansible-модуль для генерации конфига Nginx.
* `inventory/hosts.ini` — описание хостов (rrobin, web1, web2).
* `playbook.yml` — основной сценарий развертывания.
* `templates` - конфиги для проксирования на сервера web1 и web2 + кастомные страницы и видимые файлы
## Что реализовано

### 1. Раздача статики (Задание №1)
На сервере настроена раздача файлов через директиву `autoindex on`.
* **URL:** `http://<IP_host>/files`
* **Путь на сервере:** `/var/www/files/`

### 2. Кастомный модуль (Задание №2)
Написан модуль `nginx_port`, который принимает параметры `port` и `dest`. 
Модуль программно генерирует конфигурационный файл Nginx. В рамках демонстрации модуль создает дополнительный конфиг на порту **8081**.
```yaml
- nginx_port:
    port: 8081
    dest: /etc/nginx/http.d/custom_mod.conf
```
